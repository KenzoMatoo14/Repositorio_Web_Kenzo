<%- include('partials/header') %>

<main>
    <h2>Hello, <%= name %>!</h2>
    <% if (posts.length === 0) { %>
        <p>No posts available. Please add a new post!</p>
    <% } else { %>
        <h3>Available Posts:</h3>
        <ul>
            <% posts.forEach((post, index) => { %>
                <li>
                    <strong><%= post.title %></strong>: <%= post.content.substring(0, 100) %>... 
                    <a href="/post/<%= index %>">Read More</a>
                </li>
            <% }) %>
        </ul>
    <% } %>

    <h3>Add a New Post</h3>
    <form action="/new-post" method="POST">
        <label for="title">Title:</label>
        <input type="text" name="title" id="title" required />
        <br />
        <label for="content">Content:</label>
        <textarea name="content" id="content" required></textarea>
        <br />
        <input type="submit" value="Submit Post" />
    </form>
</main>

<%- include('partials/footer') %>
